import{d as m,r as c}from"./framework.7d402be1.js";const n={darkClass:"dark",lightClass:"light",storageThemeKey:"theme",storageThemeValueDark:"dark",storageThemeValueLight:"light"},l=m(),h=({darkClass:t,lightClass:e,storageThemeKey:s,storageThemeValueDark:a,setLocalStorageValue:r=!0})=>{document.documentElement.classList.remove(e),document.documentElement.classList.add(t),l.value=a,r&&(localStorage[s]=a)},u=({darkClass:t,lightClass:e,storageThemeKey:s,storageThemeValueLight:a,setLocalStorageValue:r=!0})=>{document.documentElement.classList.remove(t),document.documentElement.classList.add(e),l.value=a,r&&(localStorage[s]=a)},T=t=>{localStorage[t.storageThemeKey]===t.storageThemeValueDark||!(t.storageThemeKey in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?h({...t,setLocalStorageValue:!1}):u({...t,setLocalStorageValue:!1})},d=({shouldSetDarkMode:t,...e})=>t?h(e):u(e),v=t=>localStorage[t.storageThemeKey]===t.storageThemeValueDark?u(t):h(t),D=(t=n)=>{const e={...n,...t},s=c(()=>l.value===e.storageThemeValueDark),a=c(()=>l.value===e.storageThemeValueLight);return{autoSetTheme:()=>T(e),toggleTheme:()=>v(e),setDarkTheme:()=>d({...e,shouldSetDarkMode:!0}),setLightTheme:()=>d({...e,shouldSetDarkMode:!1}),hasDarkTheme:s,hasLightTheme:a,theme:l}},f=m(),o=m([]),S=(t,e)=>new Promise((s,a)=>{o.value=[...o.value,{id:t,isActive:!0,resolve:async()=>{await(e==null?void 0:e()),s(!0)},reject:a}]}),g=t=>(o.value=o.value.filter(({id:e})=>e!==t),o.value),i=(t,e,s=!1)=>{var a;e&&((a=e[t])==null||a.call(e,s),e.isActive=!1,setTimeout(()=>{g(e.id)},500))},k=()=>({confirmDialogData:f,dialogState:o,showDialogAndWaitChoice:S,removeDialogFromState:g,rejectDialog:(t,e=!1)=>i("reject",t,e),resolveDialog:(t,e=!1)=>i("resolve",t,e)});export{D as a,k as u};
