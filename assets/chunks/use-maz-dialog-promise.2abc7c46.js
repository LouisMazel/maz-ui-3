import{O as u,d as r}from"./framework.8c9df1bc.js";const g={darkClass:"dark",lightClass:"light",storageThemeKey:"theme",storageThemeValueDark:"dark",storageThemeValueLight:"light",storageThemeValueSystem:"system"},m=u(),h=({darkClass:e,lightClass:t,storageThemeKey:s,storageThemeValueDark:a,setLocalStorageValue:o=!0})=>{document.documentElement.classList.remove(t),document.documentElement.classList.add(e),m.value=a,o&&(localStorage[s]=a)},c=({darkClass:e,lightClass:t,storageThemeKey:s,storageThemeValueLight:a,setLocalStorageValue:o=!0})=>{document.documentElement.classList.remove(e),document.documentElement.classList.add(t),m.value=a,o&&(localStorage[s]=a)};function i(e){document.documentElement.classList.remove(e.darkClass),document.documentElement.classList.remove(e.lightClass),m.value=e.storageThemeValueSystem,e.setLocalStorageValue&&(localStorage[e.storageThemeKey]=e.storageThemeValueSystem),S(e)}function n(){return window.matchMedia("(prefers-color-scheme: dark)").matches}const S=e=>localStorage[e.storageThemeKey]===e.storageThemeValueDark||!(e.storageThemeKey in localStorage)&&n()||localStorage[e.storageThemeKey]===e.storageThemeValueSystem&&n()?h({...e,setLocalStorageValue:!1}):c({...e,setLocalStorageValue:!1}),T=({shouldSetDarkMode:e,...t})=>typeof e!="boolean"?i(t):e?h(t):c(t),v=e=>localStorage[e.storageThemeKey]===e.storageThemeValueDark?c(e):h(e),D=(e=g)=>{const t={...g,...e},s=r(()=>m.value===t.storageThemeValueDark),a=r(()=>m.value===t.storageThemeValueLight),o=r(()=>m.value===t.storageThemeValueSystem);return{autoSetTheme:()=>S(t),toggleTheme:()=>v(t),setSystemTheme:()=>i({...t,setLocalStorageValue:!0}),setDarkTheme:()=>T({...t,shouldSetDarkMode:!0}),setLightTheme:()=>T({...t,shouldSetDarkMode:!1}),hasDarkTheme:s,hasLightTheme:a,hasSystemTheme:o,theme:m}},y=u(),l=u([]),L=(e,t)=>new Promise((s,a)=>{l.value=[...l.value,{id:e,isActive:!0,resolve:async()=>{await(t==null?void 0:t()),s(!0)},reject:a}]}),f=e=>(l.value=l.value.filter(({id:t})=>t!==e),l.value),d=(e,t,s=!1)=>{var a;t&&((a=t[e])==null||a.call(t,s),t.isActive=!1,setTimeout(()=>{f(t.id)},500))},k=()=>({confirmDialogData:y,dialogState:l,showDialogAndWaitChoice:L,removeDialogFromState:f,rejectDialog:(e,t=!1)=>d("reject",e,t),resolveDialog:(e,t=!1)=>d("resolve",e,t)});export{D as a,k as u};
