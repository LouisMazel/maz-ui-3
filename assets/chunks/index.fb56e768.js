import{f as x,O as M,o as O,F as B,a5 as q,h as I,av as h,an as D,aw as K,ax as E}from"./framework.8c9df1bc.js";import{C as A,k as R,D as j,l as k,n as T,o as U,R as $,q as z,S as G}from"./chart.705aa2e5.js";const w={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},H={type:{type:String,required:!0},...w},J=K[0]==="2"?(t,e)=>Object.assign(t,{attrs:e}):(t,e)=>Object.assign(t,e);function i(t){return E(t)?h(t):t}function N(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t;return E(e)?new Proxy(t,{}):t}function Q(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function S(t,e){t.labels=e}function F(t,e,n){const r=[];t.datasets=e.map(a=>{const s=t.datasets.find(d=>d[n]===a[n]);return!s||!a.data||r.includes(s)?{...a}:(r.push(s),Object.assign(s,a),s)})}function V(t,e){const n={labels:[],datasets:[]};return S(n,t.labels),F(n,t.datasets,e),n}function Z(t,e){return t.getElementsAtEventForMode(e,"dataset",{intersect:!0},!1)}function _(t,e){return t.getElementsAtEventForMode(e,"nearest",{intersect:!0},!1)}function tt(t,e){return t.getElementsAtEventForMode(e,"index",{intersect:!0},!1)}const W=x({props:H,setup(t,e){let{expose:n}=e;const r=M(null),a=O(null);n({chart:a});const s=()=>{if(!r.value)return;const{type:o,data:g,options:v,plugins:f,datasetIdKey:m}=t,y=V(g,m),u=N(y,g);a.value=new A(r.value,{type:o,data:u,options:{...v},plugins:f})},d=()=>{const o=h(a.value);o&&(o.destroy(),a.value=null)},p=o=>{o.update(t.updateMode)};return B(s),q(d),I([()=>t.options,()=>t.data],(o,g)=>{let[v,f]=o,[m,y]=g;const u=h(a.value);if(!u)return;let b=!1;if(v){const c=i(v),C=i(m);c&&c!==C&&(Q(u,c),b=!0)}if(f){const c=i(f.labels),C=i(y.labels),P=i(f.datasets),L=i(y.datasets);c!==C&&(S(u.config.data,c),b=!0),P&&P!==L&&(F(u.config.data,P,t.datasetIdKey),b=!0)}b&&p(u)},{deep:!0}),()=>D("canvas",{ref:r})}});function l(t,e){return A.register(e),x({props:w,setup(n,r){let{expose:a}=r;const s=O(null),d=p=>{s.value=p==null?void 0:p.chart};return a({chart:s}),()=>D(W,J({ref:d},{type:t,...n}))}})}const et=l("bar",R),nt=l("doughnut",j),at=l("line",k),st=l("pie",T),rt=l("polarArea",U),ot=l("radar",$),lt=l("bubble",z),ut=l("scatter",G);export{et as Bar,lt as Bubble,W as Chart,nt as Doughnut,at as Line,st as Pie,rt as PolarArea,ot as Radar,ut as Scatter,l as createTypedChart,Z as getDatasetAtEvent,_ as getElementAtEvent,tt as getElementsAtEvent};
