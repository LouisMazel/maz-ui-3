import{h,g as u,j as y}from"./framework.02bfe7fb.js";const n={darkClass:"dark",lightClass:"light",storageThemeKey:"theme",storageThemeValueDark:"dark",storageThemeValueLight:"light",storageThemeValueSystem:"system"},l=h("system");function c({darkClass:e,lightClass:t,storageThemeKey:s,storageThemeValueDark:a,setLocalStorageValue:m=!0,setThemeValue:r=!0}){document.documentElement.classList.remove(t),document.documentElement.classList.add(e),r&&(l.value=a),m&&(localStorage[s]=a)}function g({darkClass:e,lightClass:t,storageThemeKey:s,storageThemeValueLight:a,setLocalStorageValue:m=!0,setThemeValue:r=!0}){document.documentElement.classList.remove(e),document.documentElement.classList.add(t),r&&(l.value=a),m&&(localStorage[s]=a)}function d(e){document.documentElement.classList.remove(e.darkClass),document.documentElement.classList.remove(e.lightClass),l.value=e.storageThemeValueSystem,e.setLocalStorageValue&&(localStorage[e.storageThemeKey]=e.storageThemeValueSystem),S({...e,setThemeValue:!1})}function T(){return window.matchMedia("(prefers-color-scheme: dark)").matches}function S(e){return localStorage[e.storageThemeKey]===e.storageThemeValueDark||!(e.storageThemeKey in localStorage)&&T()||localStorage[e.storageThemeKey]===e.storageThemeValueSystem&&T()?c({...e,setLocalStorageValue:!1,setThemeValue:!1}):g({...e,setLocalStorageValue:!1,setThemeValue:!1})}function i({shouldSetDarkMode:e,...t}){return typeof e!="boolean"?d(t):e?c(t):g(t)}function V(e){return localStorage[e.storageThemeKey]===e.storageThemeValueDark?g(e):c(e)}function K(e=n){const t={...n,...e},s=u(()=>l.value===t.storageThemeValueDark),a=u(()=>l.value===t.storageThemeValueLight),m=u(()=>l.value===t.storageThemeValueSystem);return y(()=>{localStorage[t.storageThemeKey]&&(l.value=localStorage[t.storageThemeKey])}),{autoSetTheme:()=>S(t),toggleTheme:()=>V(t),setSystemTheme:()=>d({...t,setLocalStorageValue:!0}),setDarkTheme:()=>i({...t,shouldSetDarkMode:!0}),setLightTheme:()=>i({...t,shouldSetDarkMode:!1}),hasDarkTheme:s,hasLightTheme:a,hasSystemTheme:m,theme:l}}const L=h(),o=h([]),D=(e,t)=>new Promise((s,a)=>{o.value=[...o.value,{id:e,isActive:!0,resolve:async()=>{await(t==null?void 0:t()),s(!0)},reject:a}]}),v=e=>(o.value=o.value.filter(({id:t})=>t!==e),o.value),f=(e,t,s=!1)=>{var a;t&&((a=t[e])==null||a.call(t,s),t.isActive=!1,setTimeout(()=>{v(t.id)},500))},E=()=>({confirmDialogData:L,dialogState:o,showDialogAndWaitChoice:D,removeDialogFromState:v,rejectDialog:(e,t=!1)=>f("reject",e,t),resolveDialog:(e,t=!1)=>f("resolve",e,t)});export{K as a,E as u};
