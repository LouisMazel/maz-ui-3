name: npm-publish
on:
  push:
    branches: [master]
  pull_request:
    branches: [master]
jobs:
  npm-publish:
    name: npm-publish
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository
        uses: actions/checkout@master
      - name: Install lib dependencies
        run: make install-lib
      - name: Bump version beta
        run: make bump-version-tag tag=beta
      - name: Build lib
        run: make build-lib
      # - uses: JS-DevTools/npm-publish@v1
      #   with:
      #     package: ./packages/lib/package.json
      #     tag: beta
      #     token: ${{ secrets.NPM_TOKEN }}
