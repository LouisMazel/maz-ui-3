import{u as h,d as M,p as A,A as B,a5 as F,q as I,ae as D,av as R,aw as P,ax as E}from"./framework.14a11354.js";import{C as O,k as j,D as K,l as k,n as T,o as U,R as $,q as z,S as G}from"./chart.705aa2e5.js";const S={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},H={type:{type:String,required:!0},...S},J=R[0]==="2"?(t,e)=>Object.assign(t,{attrs:e}):(t,e)=>Object.assign(t,e);function i(t){return E(t)?P(t):t}function N(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t;return E(e)?new Proxy(t,{}):t}function Q(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function w(t,e){t.labels=e}function L(t,e,n){const r=[];t.datasets=e.map(a=>{const s=t.datasets.find(d=>d[n]===a[n]);return!s||!a.data||r.includes(s)?{...a}:(r.push(s),Object.assign(s,a),s)})}function V(t,e){const n={labels:[],datasets:[]};return w(n,t.labels),L(n,t.datasets,e),n}function Z(t,e){return t.getElementsAtEventForMode(e,"dataset",{intersect:!0},!1)}function _(t,e){return t.getElementsAtEventForMode(e,"nearest",{intersect:!0},!1)}function tt(t,e){return t.getElementsAtEventForMode(e,"index",{intersect:!0},!1)}const W=h({props:H,setup(t,e){let{expose:n}=e;const r=M(null),a=A(null);n({chart:a});const s=()=>{if(!r.value)return;const{type:o,data:g,options:v,plugins:f,datasetIdKey:m}=t,y=V(g,m),u=N(y,g);a.value=new O(r.value,{type:o,data:u,options:{...v},plugins:f})},d=()=>{const o=P(a.value);o&&(o.destroy(),a.value=null)},p=o=>{o.update(t.updateMode)};return B(s),F(d),I([()=>t.options,()=>t.data],(o,g)=>{let[v,f]=o,[m,y]=g;const u=P(a.value);if(!u)return;let b=!1;if(v){const c=i(v),x=i(m);c&&c!==x&&(Q(u,c),b=!0)}if(f){const c=i(f.labels),x=i(y.labels),C=i(f.datasets),q=i(y.datasets);c!==x&&(w(u.config.data,c),b=!0),C&&C!==q&&(L(u.config.data,C,t.datasetIdKey),b=!0)}b&&p(u)},{deep:!0}),()=>D("canvas",{ref:r})}});function l(t,e){return O.register(e),h({props:S,setup(n,r){let{expose:a}=r;const s=A(null),d=p=>{s.value=p==null?void 0:p.chart};return a({chart:s}),()=>D(W,J({ref:d},{type:t,...n}))}})}const et=l("bar",j),nt=l("doughnut",K),at=l("line",k),st=l("pie",T),rt=l("polarArea",U),ot=l("radar",$),lt=l("bubble",z),ut=l("scatter",G);export{et as Bar,lt as Bubble,W as Chart,nt as Doughnut,at as Line,st as Pie,rt as PolarArea,ot as Radar,ut as Scatter,l as createTypedChart,Z as getDatasetAtEvent,_ as getElementAtEvent,tt as getElementsAtEvent};
