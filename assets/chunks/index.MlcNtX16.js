import{C as D,k as R,D as j,l as q,n as F,o as I,R as k,q as K,S as T}from"./chart.nVR4Bvnt.js";import{d as A,h as U,G as E,j as z,a7 as G,y as $,ay as x,P as H,ap as C,az as J,aA as O}from"./framework.s5aW1i5U.js";const L={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},N={ariaLabel:{type:String},ariaDescribedby:{type:String}},Q={type:{type:String,required:!0},...L,...N},V=J[0]==="2"?(t,e)=>Object.assign(t,{attrs:e}):(t,e)=>Object.assign(t,e);function c(t){return O(t)?x(t):t}function W(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t;return O(e)?new Proxy(t,{}):t}function X(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function S(t,e){t.labels=e}function w(t,e,n){const l=[];t.datasets=e.map(r=>{const a=t.datasets.find(d=>d[n]===r[n]);return!a||!r.data||l.includes(a)?{...r}:(l.push(a),Object.assign(a,r),a)})}function Y(t,e){const n={labels:[],datasets:[]};return S(n,t.labels),w(n,t.datasets,e),n}function et(t,e){return t.getElementsAtEventForMode(e,"dataset",{intersect:!0},!1)}function at(t,e){return t.getElementsAtEventForMode(e,"nearest",{intersect:!0},!1)}function nt(t,e){return t.getElementsAtEventForMode(e,"index",{intersect:!0},!1)}const Z=A({props:Q,setup(t,e){let{expose:n,slots:l}=e;const r=U(null),a=E(null);n({chart:a});const d=()=>{if(!r.value)return;const{type:s,data:y,options:b,plugins:f,datasetIdKey:m}=t,g=Y(y,m),u=W(g,y);a.value=new D(r.value,{type:s,data:u,options:{...b},plugins:f})},p=()=>{const s=x(a.value);s&&(s.destroy(),a.value=null)},M=s=>{s.update(t.updateMode)};return z(d),G(p),$([()=>t.options,()=>t.data],(s,y)=>{let[b,f]=s,[m,g]=y;const u=x(a.value);if(!u)return;let v=!1;if(b){const i=c(b),h=c(m);i&&i!==h&&(X(u,i),v=!0)}if(f){const i=c(f.labels),h=c(g.labels),P=c(f.datasets),B=c(g.datasets);i!==h&&(S(u.config.data,i),v=!0),P&&P!==B&&(w(u.config.data,P,t.datasetIdKey),v=!0)}v&&H(()=>{M(u)})},{deep:!0}),()=>C("canvas",{role:"img",ariaLabel:t.ariaLabel,ariaDescribedby:t.ariaDescribedby,ref:r},[C("p",{},[l.default?l.default():""])])}});function o(t,e){return D.register(e),A({props:L,setup(n,l){let{expose:r}=l;const a=E(null),d=p=>{a.value=p==null?void 0:p.chart};return r({chart:a}),()=>C(Z,V({ref:d},{type:t,...n}))}})}const rt=o("bar",R),st=o("doughnut",j),ot=o("line",q),lt=o("pie",F),ut=o("polarArea",I),it=o("radar",k),ct=o("bubble",K),dt=o("scatter",T);export{rt as Bar,ct as Bubble,Z as Chart,st as Doughnut,ot as Line,lt as Pie,ut as PolarArea,it as Radar,dt as Scatter,o as createTypedChart,et as getDatasetAtEvent,at as getElementAtEvent,nt as getElementsAtEvent};
